(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{617:function(s,a,n){"use strict";n.r(a);var e=n(15),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("在对接第三方代理IP的过程中，如何优雅的实现，下面是两种方案")])]),s._v(" "),a("h2",{attrs:{id:"zset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zset"}},[s._v("#")]),s._v(" zset")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# 时间戳+信息\nzadd proxy 1692002577 {"proxy_ip":"183.151.125.155","server":"183.151.125.155:14509","area":"浙江省丽水市","isp":"电信","deadline":"2023-08-14 16:42:50"}\n\n# 取出大于 timestamp 的代理IP\nzrangebyscore myzset (1691998414 +inf\n\n# 时间复杂度\n综合以上，ZRANGEBYSCORE 命令的时间复杂度为 O(log N + M)。\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[s._v("#")]),s._v(" hash")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# hset myhash field1 value1\nhset proxy 183.151.125.155:14509  {"proxy_ip":"183.151.125.155","server":"183.151.125.155:14509","area":"浙江省丽水市","isp":"电信","deadline":"2023-08-14 16:42:50"}\n\n# 设置哈希过期时间（单位为秒）\nexpire myhash 60\nexpire proxy 60\n\n# 取值\nhkeys proxy\n183.151.125.155:14509\n\nhvals porxy \n{"proxy_ip":"183.151.125.155","server":"183.151.125.155:14509","area":"浙江省丽水市","isp":"电信","deadline":"2023-08-14 16:42:50"}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);