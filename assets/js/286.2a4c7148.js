(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{632:function(a,s,e){"use strict";e.r(s);var r=e(15),t=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"删除无用的镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除无用的镜像"}},[a._v("#")]),a._v(" 删除无用的镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 删除停止的镜像\ndocker image prune -a --filter "until=24h"\n# 删除停止的容器\ndocker container prune\n# 这个命令应慎用\ndocker system prune\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://obsidian-foveagge.oss-cn-beijing.aliyuncs.com/blog/SentGo.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"上传镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传镜像"}},[a._v("#")]),a._v(" 上传镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull gcr.io/kaniko-project/executor\ndocker login --username=xxx@qq.com registry.cn-beijing.aliyuncs.com\ndocker tag gcr.io/kaniko-project/executor:latest  registry.cn-beijing.aliyuncs.com/biyao/spider:executor\ndocker push registry.cn-beijing.aliyuncs.com/biyao/spider:executor\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://obsidian-foveagge.oss-cn-beijing.aliyuncs.com/blog/3y0yhi.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"保存镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保存镜像"}},[a._v("#")]),a._v(" 保存镜像")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 将当前容器进行备份, 保存为镜像\ndocker commit d5944567401a bak:1.0\n# 保存为tar包\ndocker save -o mssql-2019-with-cimb.tar bak:1.0\n# 解压tar包为镜像\ndocker load --input bak:1.0\n\ndocker run -itd --restart=always --privileged     -p 5555:5555     redroid/redroid:12.0.0_gapps_magisk     ro.product.cpu.abilist=x86_64,arm64-v8a,x86,armeabi-v7a,armeabi     ro.product.cpu.abilist64=x86_64,arm64-v8a     ro.product.cpu.abilist32=x86,armeabi-v7a,armeabi     ro.dalvik.vm.isa.arm=x86     ro.dalvik.vm.isa.arm64=x86_64     ro.enable.native.bridge.exec=1     ro.dalvik.vm.native.bridge=libndk_translation.so     ro.ndk_translation.version=0.2.2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h2",{attrs:{id:"修改host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改host"}},[a._v("#")]),a._v(" 修改host")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# https://blog.csdn.net/wendaowangqi/article/details/126283213\ndocker run -itd --network $netname --add-host=$host:$ip --name $name yourimage\n# docker-compose.yml\nextra_hosts:\n    - "host1:172.18.0.3"\n    - "host2:172.18.0.4"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/348849578",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker容器保存为镜像文件"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E8%A7%A3%E5%86%B3kubernetes%E4%BB%8E%E5%9B%BD%E5%A4%96%E7%AB%99%E7%82%B9%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/",target:"_blank",rel:"noopener noreferrer"}},[a._v("解决Kubernetes从国外站点下载镜像慢的问题"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=t.exports}}]);